"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8796],{47019:(t,e,i)=>{const{registerEpics:a}=i(90876),{registerElementsEpic:r}=i(89929);a(r)},96453:(t,e,i)=>{var a=i(39322);const r=i(16760),n=i(12436),s=i(58335),l=i(2784),c=i(28316),{array:o,bool:d,string:p}=i(13980),u=i(72779),h=i(39506),v=s({displayName:"ArticleIndicator",propTypes:{isLeft:d.isRequired,ariaLabel:p,articles:o.isRequired},getInitialState:()=>({$articleElements:null,activeArticleId:null,topPosition:null}),componentDidMount(){this.setState({$articleElements:a(".ev-article")},this.updateState),window.addEventListener("scroll",this.updateState)},componentWillUnmount(){window.removeEventListener("scroll",this.updateState)},updateState(){this.getTopPosition(),this.findActiveArticle()},getTopPosition(){const t=a(".ev-navigation-top"),e=t[0]?t.height():0,i=a(c.findDOMNode(this)),r=a(window),n=r.height(),s=i.outerHeight(),l=r.scrollTop();let o=null;s>n-e&&(o=(n-s)/100*(l/(a(document).height()-n)*100)),this.setState({topPosition:o})},findActiveArticle:n((function(){const t=window.pageYOffset,e=this.state.$articleElements;if(0===t)return void this.setState({activeArticleId:e[0].getAttribute("data-id")});const i=window.innerHeight;if(t+i===a(document).height())return void this.setState({activeArticleId:e[e.length-1].getAttribute("data-id")});const r=i/3;let n;e.each(((t,e)=>{const{top:s,bottom:l,left:c}=e.getBoundingClientRect();if(l>r&&c<a(window).width()&&s<i+r)return n=e.getAttribute("data-id"),!1})),this.setState({activeArticleId:n})}),100),getClassName(){return u("ev-article-indicator",{"ev-is-centered":null===this.state.topPosition,"ev-is-left":this.props.isLeft,"ev-is-right":!this.props.isLeft})},getStyle(){const t={};return null!==this.state.topPosition&&(t.top=`${this.state.topPosition}px`),t},renderArticles(){return r(this.props.articles,(t=>l.createElement(h,{key:t._id,articleId:t._id,title:t.displayTitle||t.title,active:this.state.activeArticleId===t._id,ariaLabel:t.ariaLabel})))},render(){return l.createElement("div",{role:"navigation","aria-label":this.props.ariaLabel,className:this.getClassName(),style:this.getStyle()},this.renderArticles())}});t.exports=v},39506:(t,e,i)=>{const a=i(2784),r=i(72779),{bool:n,string:s}=i(13980),l=i(14175),c=i(10817),o=t=>a.createElement("div",{role:"button",className:r("ev-article-indicator-circle",{"ev-active-indicator-circle":t.active}),onClick:e=>{e.preventDefault(),l(t.articleId)},tabIndex:"0","aria-label":t.ariaLabel,"aria-describedby":`${t.articleId}-article-indicator-title`,"aria-current":t.active},a.createElement("div",{className:"ev-article-indicator-title"},a.createElement(c,{id:`${t.articleId}-article-indicator-title`,className:"ev-inner-article-indicator-title",html:t.title}),a.createElement("span",{className:"ev-article-indicator-arrow"})));o.propTypes={articleId:s.isRequired,active:n.isRequired,title:s.isRequired,ariaLabel:s},t.exports=o},57071:(t,e,i)=>{var a=i(14859)(i(58527));const r=i(58335),n=i(2784),{connect:s}=i(57903),l=i(1544),c=i(96453),o=r({displayName:"ArticleIndicatorContainer",render:function(){return n.createElement(c,(0,a.default)({key:this.props.articles.length},this.props))}});t.exports=s(((t,e)=>({articles:l(t,e.page,"article",!t.isShowingHiddenContent)})))(o)},89929:(t,e,i)=>{const{SETUP_APP:a}=i(63444),{addElement:r}=i(51777),n=i(57071);e.registerElementsEpic=(t,e)=>t.filter((t=>{if(t.type!==a)return!1;const{course:i}=e.getState();return i._articleIndicator&&i._articleIndicator._isEnabled})).map((()=>{const{_articleIndicator:t,_isRTL:i}=e.getState().course;return r({name:"articleIndicator",component:n,props:{isLeft:!!i||t._isOnLeftSide,ariaLabel:t.ariaLabel},parent:"page",position:"container"})}))}}]);