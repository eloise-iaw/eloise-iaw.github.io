"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4069],{44629:(e,s)=>{s.GLOSSARY_ITEM_CLICKED="GLOSSARY_ITEM_CLICKED",s.GLOSSARY_SEARCH_TEXT_CHANGED="GLOSSARY_SEARCH_TEXT_CHANGED",s.GLOSSARY_SEARCH_DESCRIPTION_CHANGED="GLOSSARY_SEARCH_DESCRIPTION_CHANGED",s.glossaryItemClicked=e=>({type:s.GLOSSARY_ITEM_CLICKED,payload:e}),s.glossarySearchTextChanged=e=>({type:s.GLOSSARY_SEARCH_TEXT_CHANGED,payload:e}),s.glossarySearchDescriptionChanged=e=>({type:s.GLOSSARY_SEARCH_DESCRIPTION_CHANGED,payload:e})},5397:(e,s,t)=>{const r=t(72579),a=t(90882),i=t(16760),n=t(58335),o=t(13980),l=t(2784),{connect:c}=t(57903),d=t(72779),{ContentContainer:h,HeroImage:g}=t(20077),p=t(615),m=t(11865),y=t(11533),_=t(50085),u=t(72489),S=t(86587),{glossaryItemClicked:v,glossarySearchTextChanged:E,glossarySearchDescriptionChanged:C}=t(44629),I=t(27765),b=n({displayName:"Glossary",propTypes:{glossary:o.shape({title:o.string,description:o.string,searchPlaceholder:o.string,searchText:o.string,ariaLabel:o.string,searchAriaLabel:o.string,itemNotFoundMessage:o.string,shouldSearchInDescription:o.bool,_glossaryItems:o.array,_heroImage:o.object,_headerIcon:o.string}).isRequired,theme:o.object.isRequired,isReady:o.bool.isRequired,glossarySearchTextChanged:o.func.isRequired,glossaryItemClicked:o.func.isRequired,glossarySearchDescriptionChanged:o.func.isRequired},onSearchTextChange({target:e}){this.props.glossarySearchTextChanged(e.value)},onSearchDescriptionChange({target:e}){this.props.glossarySearchDescriptionChanged(e.checked)},renderTitle(){if(this.props.glossary.title)return l.createElement(y,{headingElement:`h${this.context}`,displayTitle:this.props.glossary.title,className:"ev-header-title",innerClassName:"ev-header-title-inner"})},renderDescription(){if(this.props.glossary.description)return l.createElement(m,{className:"ev-header-body",innerClassName:"ev-header-body-inner",body:this.props.glossary.description})},renderSearch(){const{glossary:e}=this.props;return l.createElement("div",{className:"ev-glossary-search"},l.createElement("input",{className:"ev-glossary-search-input ev-input-text ev-input-search",type:"search",placeholder:e.searchPlaceholder,"aria-label":e.searchAriaLabel,value:e.searchText,onChange:this.onSearchTextChange}),l.createElement("label",{className:"ev-glossary-search-description ev-label"},l.createElement("input",{id:"search-checkbox",type:"checkbox",className:"ev-input-checkbox",checked:e.shouldSearchInDescription,onChange:this.onSearchDescriptionChange}),r(e,"searchWithinDescriptionLabel","Search within Description")))},renderGlossaryItems(){const{glossary:e,glossaryItemClicked:s}=this.props,t=a(e._glossaryItems,{_isVisible:!0});return t.length?i(t,(e=>l.createElement(I,{key:e._id,onItemClicked:s,item:e}))):l.createElement("div",null,e.itemNotFoundMessage)},renderContent(){if(this.props.glossary._glossaryItems)return l.createElement(u,null,this.renderSearch(),l.createElement("ul",{className:"ev-list-items"},this.renderGlossaryItems()))},renderHeroImage(){const{_heroImage:e}=this.props.glossary;if(null!=e&&e._isEnabled)return l.createElement(S.Provider,{value:this.props.glossary.title?this.context+1:this.context},l.createElement(g,{title:e.title,body:e.body,graphic:e._graphic,_contentWidth:e._contentWidth,layout:e.layout,floatingGraphic:e._floatingGraphic,parentSelector:".ev-extension-hero-container",theme:this.props.theme,isReady:this.props.isReady}))},render(){var e,s;const{glossary:t,isReady:r,theme:a}=this.props,i=t._headerIcon,n=null===(e=a._extensions._glossary)||void 0===e||null===(s=e._settings)||void 0===s?void 0:s._headerIcon,o=i||n;return l.createElement(h,{region:"glossary",className:"ev-extension ev-glossary",ariaLabel:t.ariaLabel},l.createElement("div",{className:"ev-extension-inner"},r?null:l.createElement(p,null),l.createElement("div",{className:"ev-extension-hero-container"},this.renderHeroImage()),l.createElement("div",{className:"ev-header"},l.createElement("div",{className:d("ev-header-inner ev-clearfix",{"ev-no-graphic":!o})},l.createElement("div",{className:"ev-header-left"},this.renderTitle(),this.renderDescription()),o&&l.createElement("div",{className:"ev-header-right"},l.createElement(_,{icon:o})))),this.renderContent()))}});b.contextType=S,e.exports=c((e=>({glossary:e.glossary,theme:e.theme,isReady:e.location.isLocationReady})),{glossaryItemClicked:v,glossarySearchTextChanged:E,glossarySearchDescriptionChanged:C})(b)},27765:(e,s,t)=>{const r=t(13980),a=t(2784),i=t(28739),n=t(11865),o=t(23346),l=({item:e,onItemClicked:s})=>a.createElement("li",{className:"ev-glossary-item ev-list-item"},a.createElement(o,{id:`ev-glossary-item-${e._id}`,className:"ev-glossary-item-term ev-list-item-inner",onClick:()=>s(e._id),onKeyDown:e=>{i.isSpaceKey(e)&&s(e)},"aria-expanded":e._isSelected,"aria-controls":`${e._id}content`,text:e.term,textAlignment:"left"}),a.createElement(n,{id:`${e._id}content`,className:"ev-glossary-item-description ev-list-item-content"+(e._isSelected?"":" ev-display-none"),innerClassName:"ev-glossary-item-description-inner ev-list-item-content-inner",ariaLabelledby:`ev-glossary-item-${e._id}`,role:"region",body:e.description}));l.propTypes={item:r.shape({_id:r.string.isRequired,_isSelected:r.bool,term:r.string,description:r.string}).isRequired,onItemClicked:r.func.isRequired},e.exports=l},82327:(e,s,t)=>{const{Observable:r}=t(28761),{SETUP_APP:a}=t(63444),{addElement:i}=t(51777),{NavigationSideItem:n}=t(39819),o=t(98471),l=t(5397);s.glossaryElementsEpic=(e,s)=>e.filter((e=>{var t;return e.type===a&&(null===(t=s.getState().course._glossary)||void 0===t?void 0:t._isEnabled)})).mergeMap((()=>r.of(i({parent:"navigationSide",name:"glossary",component:n,props:{link:"/glossary",icon:o("_glossary","_navigationIcon","typewriter"),label:s.getState().course._glossary.title}}),i({parent:"router",name:"glossary",path:"/glossary",exact:!0,component:l,getShouldPersist:e=>{var s,t;return null==e||null===(s=e.course)||void 0===s||null===(t=s._glossary)||void 0===t?void 0:t._isEnabled}}))))},52863:(e,s,t)=>{const{registerReducer:r,registerEpics:a}=t(90876),i=t(6443),n=t(5919),{glossaryElementsEpic:o}=t(82327);r("glossary",n),a(o,i("glossary"))},5919:(e,s,t)=>{const r=t(16760),{SETUP_APP:a}=t(63444),{GLOSSARY_ITEM_CLICKED:i,GLOSSARY_SEARCH_TEXT_CHANGED:n,GLOSSARY_SEARCH_DESCRIPTION_CHANGED:o}=t(44629),l={searchText:"",shouldSearchInDescription:!1};function c(e,s,t){const a=t?"description":"term",i=s.toLowerCase();return r(e,(e=>{var s,t,r,n;return(null===(s=e[a])||void 0===s||null===(t=s.toLowerCase)||void 0===t||null===(r=(n=t.call(s)).indexOf)||void 0===r?void 0:r.call(n,i))>-1?{...e,_isVisible:!0}:{...e,_isVisible:!1,_isSelected:!1}})).sort(((e,s)=>{const t=e.term||"",r=s.term||"";return t.localeCompare(r)}))}e.exports=(e=l,s)=>{if(s.type===a){const e=s.payload.course._glossary;return null!=e&&e._isEnabled?{...l,...e,_glossaryItems:c(e._glossaryItems,l.searchText,l.shouldSearchInDescription)}:l}if(!e._isEnabled)return l;switch(s.type){case i:{const t=r(e._glossaryItems,(e=>e._id!==s.payload||e._isSelected?{...e,_isSelected:!1}:{...e,_isSelected:!0}));return{...e,_glossaryItems:c(t,e.searchText,e.shouldSearchInDescription)}}case n:return{...e,searchText:s.payload,_glossaryItems:c(e._glossaryItems,s.payload,e.shouldSearchInDescription)};case o:return{...e,shouldSearchInDescription:s.payload,_glossaryItems:c(e._glossaryItems,e.searchText,s.payload)};default:return e}}},98471:(e,s,t)=>{const r=t(72579),{store:a}=t(90876);e.exports=function(e,s,t){const{course:i,theme:n}=a.getState(),o=i[e],l=r(o,s),c=r(n,["_extensions",e,"_settings",s]);return l||c||t}},6443:(e,s,t)=>{const r=t(72579),{Observable:a}=t(28761),{setLocationReadyState:i,PUSH_LOCATION:n}=t(63444),o=t(36151),l=t(69610);e.exports=(e,s)=>(t,c)=>t.filter((({type:s})=>{if(s!==n)return;const{navigationStatus:t,path:r}=c.getState().location;return"plugin"===t&&r[0]===e})).switchMap((()=>{const t=c.getState(),{device:n,course:d}=t;let h;if(h=s?s(t):r(d,[`_${e}`,"_heroImage"]),!h||!h._graphic)return a.empty();const g=o(h._graphic.src,h._graphic.srcAdvanced,!0);return g?a.concat(a.of(i(!1)),a.bindCallback(l)(g,!1).map((()=>i(!0)))):a.empty()}))}}]);