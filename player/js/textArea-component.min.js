(self.webpackChunk=self.webpackChunk||[]).push([[6570],{76142:(e,t)=>{"use strict";t.TEXTAREA_SAVE_USER_ANSWER="TEXTAREA_SAVE_USER_ANSWER",t.TEXTAREA_EDIT_USER_ANSWER="TEXTAREA_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.TEXTAREA_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.TEXTAREA_EDIT_USER_ANSWER,payload:e})},26253:(e,t,s)=>{"use strict";const i=s(58335),n=s(13980),o=s(2784),r=s(41119),a=s(2287),l=s(10817),u=s(27843),p=s(96235),c=s(88934),d=s(43855),{Component:m}=s(58720),h=s(32718),b=i({displayName:"TextAreaComponent",propTypes:{component:n.object.isRequired,setComponentAsReady:n.func.isRequired,setComponentAsViewed:n.func.isRequired,setComponentAsComplete:n.func.isRequired,updateVariable:n.func.isRequired,saveUserAnswer:n.func.isRequired,editUserAnswer:n.func.isRequired,styles:n.object,setAriaLive:n.func.isRequired},getInitialState(){return{_userAnswer:this.props.component._userAnswer||"",_previousUserAnswer:void 0}},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},submitAnswer(){const{props:e,state:t}=this;e.saveUserAnswer({componentId:e.component._id,userAnswer:t._userAnswer}),e.setComponentAsComplete(e.component._id,{_isSubmitted:!0}),e.setAriaLive({message:e.component.submittedLabelText,isAssertive:!1}),e.component._canSaveToVariable&&e.updateVariable(e.component._variableId,t._userAnswer,e.component._variableUpdateType,t._previousUserAnswer)},onInputChanged(e){this.setState({_userAnswer:e})},onEditClicked(){this.setState({_previousUserAnswer:this.state._userAnswer}),this.props.editUserAnswer({componentId:this.props.component._id})},onVisibilityChange(...e){d(...e,this,this.props.setComponentAsViewed)},getTextAreaMinHeight(){const{component:e}=this.props;return e._hasMinimumHeight?e._minimumHeight:300},renderTextArea(){const{component:e}=this.props,t=e._isComplete&&!e._isEditing;return e._displayAsTextInput?o.createElement(a,{ariaLabel:e.textAreaAriaLabel,value:this.state._userAnswer,onChange:this.onInputChanged,placeholder:e.placeholder,type:"text",isDisabled:t,shouldFocus:e._isEditing}):o.createElement(r,{ariaLabel:e.textAreaAriaLabel,value:this.state._userAnswer,onChange:this.onInputChanged,placeholder:e.placeholder,minHeight:this.getTextAreaMinHeight(),isDisabled:t,shouldFocus:e._isEditing})},renderSubmittedLabel(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return o.createElement(l,{className:"ev-label",html:t})},getIsSubmitDisabled(){const{_isEditing:e=!1,_isComplete:t,_allowEditing:s}=this.props.component;return!(!t||s&&e)||""===this.state._userAnswer},renderButtons(){const{submitButtonText:e,editButtonText:t,_isEditing:s,_isComplete:i,_allowEditing:n}=this.props.component,{_isActionButtonOnRight:r}=u(this.props);return o.createElement(h,{switchButtonOrder:r,submitText:e,isSubmitDisabled:this.getIsSubmitDisabled(),onSubmitClicked:this.submitAnswer,showEditButton:n,isEditDisabled:s||!i,editText:t,onEditClicked:this.onEditClicked})},render(){const{component:e,styles:t}=this.props;return o.createElement(m,{component:e,styles:t,isVisibilitySensorActive:c(this.props),onVisibilityChange:this.onVisibilityChange},o.createElement("div",null,o.createElement("div",{className:p(e)},this.renderTextArea(),this.renderSubmittedLabel(),this.renderButtons())))}});e.exports=b},3851:(e,t,s)=>{"use strict";const i=s(63867);e.exports=(e,t)=>({articleStyle:i(e,t,"article")._classes})},85284:(e,t,s)=>{"use strict";const{TEXTAREA_SAVE_USER_ANSWER:i,TEXTAREA_EDIT_USER_ANSWER:n}=s(76142);e.exports=function(e,t){switch(t.type){case i:return{...e,_userAnswer:t.payload.userAnswer,_isComplete:!0,_isSubmitted:!0,_isEditing:!1};case n:return{...e,_isEditing:!0,_isSubmitted:!1};default:return e}}},28625:(e,t,s)=>{"use strict";const{registerComponent:i}=s(90876),n=s(26253),o=s(85284),{saveUserAnswer:r,editUserAnswer:a}=s(76142);i("textArea",{component:n,actions:{saveUserAnswer:r,editUserAnswer:a},reducer:o,mapStateToProps:s(3851),trackingMap:s(45241)})},45241:e=>{"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_userAnswer:{fieldKey:"_userAnswer",type:"String",shouldRestore:!0}}},2287:(e,t,s)=>{"use strict";const i=s(16951),n=s(58335),o=s(13980),r=s(2784),a=s(72779),l=n({displayName:"Input",propTypes:{type:o.oneOf(["text","number"]),value:o.oneOfType([o.string,o.number]),onChange:o.func.isRequired,onFocus:o.func,onBlur:o.func,className:o.string,placeholder:o.string,min:o.number,max:o.number,ariaLabel:o.string,isDisabled:o.bool,shouldFocus:o.bool},getDefaultProps:()=>({type:"text"}),onChange(e){const{type:t,min:s,max:n,onChange:o}=this.props;let{value:r}=e.target;if("number"===t){if(r=parseInt(r,10),!i(r)&&(r<s||r>n))return;i(r)&&(r="")}o(r)},componentDidUpdate(e){const{shouldFocus:t}=this.props;t&&!e.shouldFocus&&this._input.focus()},render(){const{className:e,type:t,value:s,onFocus:i,onBlur:n,placeholder:o,min:l,max:u,ariaLabel:p,isDisabled:c}=this.props;return r.createElement("input",{ref:e=>this._input=e,className:a("ev-input ev-input-text",e),type:t,value:s,onChange:this.onChange,onFocus:i,onBlur:n,placeholder:o,min:l,max:u,disabled:c,"aria-label":p})}});e.exports=l},41119:(e,t,s)=>{"use strict";const i=s(58335),n=s(13980),o=s(2784),r=s(72779),a=i({displayName:"TextArea",propTypes:{id:n.string,value:n.string.isRequired,label:n.string,onChange:n.func.isRequired,onFocus:n.func,onBlur:n.func,className:n.string,placeholder:n.string,minHeight:n.number,ariaLabel:n.string,isDisabled:n.bool,shouldFocus:n.bool},getDefaultProps:()=>({value:""}),componentDidUpdate(e){const{shouldFocus:t}=this.props;t&&!e.shouldFocus&&this._textArea.focus()},renderTextArea(){const{props:e}=this;return o.createElement("textarea",{id:e.id,ref:e=>this._textArea=e,"aria-label":e.ariaLabel,value:e.value,onChange:t=>e.onChange(t.target.value),onFocus:e.onFocus,onBlur:e.onBlur,placeholder:e.placeholder,className:r("ev-text-area",e.className),style:{minHeight:e.minHeight},disabled:e.isDisabled})},render(){const{props:e}=this;return e.label?o.createElement(o.Fragment,null,o.createElement("label",{className:"ev-label",htmlFor:e.id,dangerouslySetInnerHTML:{__html:e.label},style:{pointerEvents:e.isDisabled?"none":"all"}}),this.renderTextArea()):this.renderTextArea()}});e.exports=a},88934:e=>{"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:s,isPageReady:i}=e;return!0===i&&!0===s._isReady&&!0!==s[t]}},96235:(e,t,s)=>{"use strict";const i=s(72779);e.exports=function(e){return i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},43855:e=>{"use strict";e.exports=function(e,t,s,i,n){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&n&&n(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},32718:(e,t,s)=>{"use strict";const i=s(2784),n=s(13980),o=s(72779),r=s(23346),a=e=>i.createElement("div",{className:o("ev-buttons",{"ev-switch-buttons":e.switchButtonOrder})},e.showSubmitButton&&i.createElement(r,{text:e.submitText,isDisabled:e.isSubmitDisabled,onClick:e.onSubmitClicked}),e.showEditButton&&i.createElement(r,{text:e.editText,isDisabled:e.isEditDisabled,onClick:e.onEditClicked}));a.propTypes={switchButtonOrder:n.bool,showSubmitButton:n.bool,submitText:n.string,isSubmitDisabled:n.bool,onSubmitClicked:n.func,showEditButton:n.bool,editText:n.string,isEditDisabled:n.bool,onEditClicked:n.func},a.defaultProps={switchButtonOrder:!1,showSubmitButton:!0,showEditButton:!0},e.exports=a},16951:(e,t,s)=>{var i=s(80537);e.exports=function(e){return i(e)&&e!=+e}},80537:(e,t,s)=>{var i=s(53366),n=s(15125);e.exports=function(e){return"number"==typeof e||n(e)&&"[object Number]"==i(e)}}}]);