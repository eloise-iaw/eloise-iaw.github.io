"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2226],{31210:(e,t)=>{t.SLIDERINPUT_SAVE_USER_ANSWER="SLIDERINPUT_SAVE_USER_ANSWER",t.SLIDERINPUT_EDIT_USER_ANSWER="SLIDERINPUT_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.SLIDERINPUT_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.SLIDERINPUT_EDIT_USER_ANSWER,payload:e})},70740:(e,t,s)=>{const i=s(84336),n=s(58335),r=s(13980),o=s(2784),a=s(10817),l=s(69209),d=s(27843),u=s(96235),p=s(88934),c=s(43855),{Component:m}=s(58720),b=s(32718),h=n({displayName:"SliderInput",propTypes:{component:r.object.isRequired,setComponentAsReady:r.func.isRequired,setComponentAsViewed:r.func.isRequired,setComponentAsComplete:r.func.isRequired,saveUserAnswer:r.func.isRequired,editUserAnswer:r.func.isRequired,updateVariable:r.func.isRequired,styles:r.object,isRTL:r.bool,setAriaLive:r.func.isRequired},getInitialState(){const{_userAnswer:e,_defaultValue:t}=this.props.component;return{_userAnswer:i(e)?t:e,_previousUserAnswer:void 0}},componentDidMount(){this.props.setComponentAsReady(this.props.component._id),this.hasSubmitButton()||this.saveToVariable()},componentDidUpdate(e,t){const{_userAnswer:s}=this.state;s===t._userAnswer||this.hasSubmitButton()||this.saveToVariable()},hasSubmitButton(){return""!==this.props.component.submitButtonText},saveToVariable(){const{props:e,state:t}=this;e.component._canSaveToVariable&&e.updateVariable(e.component._variableId,t._userAnswer,e.component._variableUpdateType,t._previousUserAnswer)},submitAnswer(){const{props:e,state:t}=this;e.saveUserAnswer({componentId:e.component._id,userAnswer:t._userAnswer}),e.setComponentAsComplete(e.component._id,{_isSubmitted:!0}),e.setAriaLive({message:e.component.submittedLabelText,isAssertive:!1})},onSliderChanged(){this.hasSubmitButton()||this.submitAnswer()},onSubmitClicked(){this.saveToVariable(),this.submitAnswer()},onEditClicked(){const{props:e,state:t}=this;this.setState({_previousUserAnswer:t._userAnswer}),e.editUserAnswer({componentId:e.component._id})},onVisibilityChange(...e){c(...e,this,this.props.setComponentAsViewed)},renderSubmittedLabel(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return o.createElement(a,{className:"ev-label",html:t})},getIsSubmitDisabled(){const{_isEditing:e=!1,_isComplete:t,_allowEditing:s}=this.props.component;return!(!t||s&&e)||""===this.state._userAnswer},renderButtons(){const{submitButtonText:e,editButtonText:t,_isEditing:s,_isComplete:i,_allowEditing:n}=this.props.component,{_isActionButtonOnRight:r}=d(this.props);return o.createElement(b,{switchButtonOrder:r,showSubmitButton:this.hasSubmitButton(),submitText:e,isSubmitDisabled:this.getIsSubmitDisabled(),onSubmitClicked:this.onSubmitClicked,showEditButton:n,isEditDisabled:s||!i,editText:t,onEditClicked:this.onEditClicked})},render(){const{props:e,state:t}=this;return o.createElement(m,{component:e.component,styles:e.styles,isVisibilitySensorActive:p(e),onVisibilityChange:this.onVisibilityChange},o.createElement("div",null,o.createElement("div",{className:u(e.component)},o.createElement(l,{value:t._userAnswer,onChange:e=>this.setState({_userAnswer:e}),onAfterChange:this.onSliderChanged,isDisabled:e.component._isComplete&&!e.component._isEditing,defaultValue:e.component._defaultValue,min:e.component._minValue,max:e.component._maxValue,step:e.component._step,labels:e.component._labels,isRTL:e.isRTL}),this.renderSubmittedLabel(),this.renderButtons())))}});e.exports=h},36986:(e,t,s)=>{const i=s(63867);e.exports=(e,t)=>({articleStyle:i(e,t,"article")._classes})},36190:(e,t,s)=>{const i=s(60019),{SLIDERINPUT_SAVE_USER_ANSWER:n,SLIDERINPUT_EDIT_USER_ANSWER:r}=s(31210);e.exports=function(e,t){switch(t.type){case n:return i({},e,{_userAnswer:t.payload.userAnswer,_isComplete:!0,_isSubmitted:!0,_isEditing:!1});case r:return i({},e,{_isEditing:!0,_isSubmitted:!1});default:return e}}},14214:(e,t,s)=>{const{registerComponent:i}=s(90876),n=s(70740),r=s(36190),{saveUserAnswer:o,editUserAnswer:a}=s(31210);i("sliderInput",{component:n,actions:{saveUserAnswer:o,editUserAnswer:a},reducer:r,mapStateToProps:s(36986),trackingMap:s(29298)})},29298:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_userAnswer:{fieldKey:"_userAnswer",type:"Number",shouldRestore:!0}}},69209:(e,t,s)=>{const i=s(98923),n=s(58335),r=s(13980),o=s(2784),a=s(4694),l=s(72779),d=n({displayName:"RangeSlider",propTypes:{labels:r.shape({min:r.string.isRequired,max:r.string.isRequired,selected:r.string.isRequired,aria:r.string}),defaultValue:r.number,value:r.number,min:r.number.isRequired,max:r.number.isRequired,step:r.number.isRequired,onChange:r.func.isRequired,onAfterChange:r.func,onBeforeChange:r.func,onSliderClick:r.func,isDisabled:r.bool.isRequired,isRTL:r.bool,onReady:r.func},componentDidMount(){this._isMounted=!0,i((()=>{this._isMounted&&(this.props.onReady&&this.props.onReady(),this._slider&&this._slider._resize())}),500)},componentWillUnmount(){this._isMounted=!1},getDefaultProps:()=>({isDisabled:!1}),renderRangeLabels(){if(this.props.labels)return o.createElement("div",{className:"ev-rangeslider-range-labels"},o.createElement("div",{className:"ev-rangeslider-range-labels-inner ev-clearfix"},o.createElement("div",{className:"ev-rangeslider-range-min ev-label"},o.createElement("span",null,this.props.labels.min)),o.createElement("div",{className:"ev-rangeslider-range-max ev-label"},o.createElement("span",null,this.props.labels.max))))},renderSelectedLabel(){var e;if(null!==(e=this.props.labels)&&void 0!==e&&e.selected)return o.createElement("div",{className:"ev-rangeslider-range-current-value ev-label"},o.createElement("span",{className:"ev-rangeslider-range-current-value-text"},this.props.labels.selected),o.createElement("span",{className:"ev-rangeslider-range-current-value-number"},this.props.value))},render(){var e;const{props:t}=this;return o.createElement("div",{className:"ev-rangeslider-container"},this.renderRangeLabels(),o.createElement("div",{className:"ev-slider-container"},o.createElement(a,{ariaLabel:null===(e=t.labels)||void 0===e?void 0:e.aria,ref:e=>this._slider=e,value:t.value,defaultValue:t.defaultValue,min:t.min,max:t.max,step:t.step,onChange:t.onChange,onAfterChange:t.onAfterChange,onBeforeChange:t.onBeforeChange,onSliderClick:t.onSliderClick,withBars:!0,className:l("ev-rangeslider",{"ev-rangeslider--disabled":t.isDisabled}),handleClassName:"ev-rangeslider__handle",barClassName:"ev-rangeslider__bar",disabled:t.isDisabled,invert:t.isRTL}),this.renderSelectedLabel()))}});e.exports=d},88934:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:s,isPageReady:i}=e;return!0===i&&!0===s._isReady&&!0!==s[t]}},96235:(e,t,s)=>{const i=s(72779);e.exports=function(e){return i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},43855:e=>{e.exports=function(e,t,s,i,n){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&n&&n(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},32718:(e,t,s)=>{const i=s(2784),n=s(13980),r=s(72779),o=s(23346),a=e=>i.createElement("div",{className:r("ev-buttons",{"ev-switch-buttons":e.switchButtonOrder})},e.showSubmitButton&&i.createElement(o,{text:e.submitText,isDisabled:e.isSubmitDisabled,onClick:e.onSubmitClicked}),e.showEditButton&&i.createElement(o,{text:e.editText,isDisabled:e.isEditDisabled,onClick:e.onEditClicked}));a.propTypes={switchButtonOrder:n.bool,showSubmitButton:n.bool,submitText:n.string,isSubmitDisabled:n.bool,onSubmitClicked:n.func,showEditButton:n.bool,editText:n.string,isEditDisabled:n.bool,onEditClicked:n.func},a.defaultProps={switchButtonOrder:!1,showSubmitButton:!0,showEditButton:!0},e.exports=a}}]);