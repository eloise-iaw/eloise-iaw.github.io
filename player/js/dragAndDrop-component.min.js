"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1552],{14356:(e,t)=>{t.DRAG_AND_DRAP_ITEM_DROPPED_INTO_ZONE="DRAG_AND_DRAP_ITEM_DROPPED_INTO_ZONE",t.DRAG_AND_DRAP_ITEM_DROPPED_OUT_OF_ZONE="DRAG_AND_DRAP_ITEM_DROPPED_OUT_OF_ZONE",t.DRAG_AND_DROP_ITEM_SELECTED="DRAG_AND_DROP_ITEM_SELECTED",t.itemDroppedIntoZone=(e,o,n)=>({type:t.DRAG_AND_DRAP_ITEM_DROPPED_INTO_ZONE,payload:{componentId:e,itemId:o,zoneId:n}}),t.itemDroppedOutOfZone=(e,o)=>({type:t.DRAG_AND_DRAP_ITEM_DROPPED_OUT_OF_ZONE,payload:{componentId:e,itemId:o}}),t.itemSelected=(e,o)=>({type:t.DRAG_AND_DROP_ITEM_SELECTED,payload:{componentId:e,itemId:o}})},51126:(e,t,o)=>{const n=o(98874),r=o(55281),i=o(16760),s=o(58335),c=o(13980),a=o(2784),p=o(28316),d=o(72779),{Component:_}=o(58720),l=o(96235),m=o(89493),u=o(95849),h=o(17352),D=s({displayName:"DragAndDrop",propTypes:{component:c.object.isRequired,itemSelected:c.func.isRequired,itemDroppedIntoZone:c.func.isRequired,itemDroppedOutOfZone:c.func.isRequired,submitQuestion:c.func.isRequired,actionButtonClicked:c.func.isRequired,setComponentAsReady:c.func.isRequired,setComponentAsViewed:c.func.isRequired,setComponentAsStarted:c.func.isRequired,showFeedback:c.func.isRequired,resetQuestion:c.func.isRequired,shouldHideMarking:c.bool,isPageReady:c.bool,styles:c.object},getInitialState:function(){return{_isItemDragging:!1}},componentDidMount:function(){const{props:e}=this;this.props.setComponentAsReady(e.component._id)},componentDidUpdate:function(e){const{component:t}=this.props;!e.component._isSubmitted&&t._isSubmitted&&this.showFeedback()},UNSAFE_componentWillReceiveProps:function(e){const{component:t}=this.props;!e.component._canSubmit||!t._canAutoSubmit||t._canSubmit||t._isSubmitted||t._canSubmitAtAnyTime||this.props.submitQuestion(t._id),t._canAutoSubmit&&!t._isSubmitted&&!t._canSubmitAtAnyTime&&e.component._attemptsLeft>0&&e.component._isSubmitted&&!e.component._isCorrect&&this.props.resetQuestion(t._id)},showFeedback:function(){const{component:e}=this.props,t=m(e);this.props.showFeedback(t)},setFocusOnDroppedItem:function(e){const{props:t}=this;n((()=>{if(!t.component._isComplete){const t=p.findDOMNode(this).querySelector(`[id='${e}']`);t&&t.focus()}}))},onItemDragMove:function(){this.setState({_isItemDragging:!0})},onItemDragEnd:function(){this.setState({_isItemDragging:!1})},getWidgetClassName:function(){const{component:e}=this.props;return d(l(e),`ev-${e._dropZonelayout}`,{"ev-draggable-items-grid-layout":e._useItemGridLayout,"ev-drop-zones-compact":e._hasCompactDropZones,"ev-drop-zones-horizontal-layout":e._hasHorizontalDropZones})},renderBlocker:function(){const{component:e}=this.props;if(!e._isEnabled)return a.createElement("div",{className:"ev-draggable-blocker"})},onItemDroppedOutOfZone:function(e){const{props:t}=this;r(t.component._items,(t=>t._id===e))._currentDropZone&&t.itemDroppedOutOfZone(t.component._id,e),this.setFocusOnDroppedItem(e)},onItemDroppedIntoZone:function(e,t){const{props:o}=this;o.component._hasStarted||o.setComponentAsStarted(o.component._id),o.itemDroppedIntoZone(o.component._id,e,t),this.setFocusOnDroppedItem(e)},onItemSelected:function(e){this.props.itemSelected(this.props.component._id,e)},onDropZoneSelected:function(e){const{props:t}=this;this.onItemDroppedIntoZone(t.component._selectedItemId,e)},onVisibilityChange:function(e,{top:t,bottom:o}){const{props:n}=this;t&&(this.isInviewTop=!0),o&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&n.setComponentAsViewed(n.component._id)},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._hasBeenViewed},renderDropZones:function(e){const{props:t,state:o}=this,n=t.component._dropZones;if(!n)return null;const r=1===n.length;return a.createElement("div",{className:"ev-drop-zones ev-clearfix"},i(n,(n=>a.createElement(h,{key:n._id,modelId:t.component._id,id:n._id,text:n.text,onItemDroppedOutOfZone:this.onItemDroppedOutOfZone,onItemDroppedIntoZone:this.onItemDroppedIntoZone,onItemSelected:this.onItemSelected,onDropZoneSelected:this.onDropZoneSelected,allItems:t.component._items,droppedItems:n._droppedItems,graphic:n._graphic,isComplete:t.component._isComplete,tabIndex:e?-1:0,selectedItemId:t.component._selectedItemId,shouldRejectIncorrect:t.component._shouldZonesRejectIncorrect,shouldUseCoverBackgroundSize:n._shouldUseCoverBackgroundSize,isSingleDropZone:r,shouldHideMarking:t.shouldHideMarking,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,isItemDragging:o._isItemDragging,shouldDisplayDropZonePointers:t.component._shouldDisplayDropZonePointers,ariaLabel:n.ariaLabel}))))},renderDraggableItems:function(){const{component:e}=this.props,t=e[e._selectedAnswerState],o=i(t,(t=>t._currentDropZone?null:a.createElement(u,{key:t._id,modelId:e._id,id:t._id,text:t.text,tabIndex:t._isDisabled?-1:0,isSelected:t._id===e._selectedItemId,onItemDroppedOutOfZone:this.onItemDroppedOutOfZone,showMarking:t._showMarking,isCorrect:t._isInCorrectDropZone,isComplete:e._isComplete,isDisabled:t._isDisabled,onItemSelected:this.onItemSelected,correctDropZones:t._correctDropZones,graphic:t._graphic,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd})));return a.createElement("div",{className:"ev-draggable-items"},o)},renderContent:function(){const{component:e}=this.props,{_dropZonelayout:t}=e,o=!1===e._isEnabled;return"drop-zones-top"!==t?a.createElement("div",{className:"ev-drag-and-drop-layout-container","aria-hidden":o},this.renderDraggableItems(),this.renderDropZones(o)):a.createElement("div",{className:"ev-drag-and-drop-layout-container","aria-hidden":o},this.renderDropZones(o),this.renderDraggableItems())},render:function(){const{props:e}=this;return a.createElement(_,{component:e.component,styles:e.styles,shouldHideMarking:e.shouldHideMarking,onActionButtonClicked:e.actionButtonClicked,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange,onFeedbackButtonClicked:this.showFeedback},a.createElement("div",{role:"application","aria-roledescription":e.component.ariaRoleDescription,className:this.getWidgetClassName()},this.renderContent(),this.renderBlocker()))}});e.exports=D},95849:(e,t,o)=>{const n=o(58335),r=o(32823),i=o(28739),s=o(88078),c=o(2784),a=o(28316),p=o(90212),d=o(72779),_=o(10817),l=n({displayName:"DraggableItem",mixins:[r],getInitialState:()=>({_isDragging:!1,_x:0,_y:0}),componentDidMount(){this._isMounted=!0,p(a.findDOMNode(this)).draggable({onmove:this.onDragMove,onend:this.onDragEnd,autoScroll:!0,modifiers:[p.modifiers.restrict({restriction:".ev-dragAndDrop-widget"})]})},componentDidUpdate(e,t){this.state._isDragging&&!t._isDragging&&(this._item.focus(),this.props.onItemSelected(this.props.id))},componentWillUnmount(){this._isMounted=!1,p(a.findDOMNode(this)).unset()},onDragMove(e){this.setState({_x:this.state._x+e.dx,_y:this.state._y+e.dy,_isDragging:!0},(()=>{this.props.onItemDragMove()}))},onDragEnd(e){this._isMounted&&(this.setState({_isDragging:!1,_x:0,_y:0},(()=>{this.props.onItemDragEnd()})),e.dropzone||this.props.onItemDroppedOutOfZone(this.props.id),this.props.onItemSelected(void 0))},onKeyPress(e){const{props:t}=this;i.isSpaceKey(e)&&t.onItemSelected(t.id),i.isEscapeKey(e)&&this.props.isSelected&&(t.isInDropZone?t.onItemDroppedOutOfZone(t.id):t.onItemSelected(void 0))},getClassName(){return d("ev-draggable-item",`ev-draggable-item-${this.props.modelId}`,"ev-component-item",{"ev-is-dragging":this.state._isDragging||this.props.isSelected,"ev-is-disabled":this.props.isDisabled})},getStyle(){return{left:`${this.state._x}px`,top:`${this.state._y}px`}},renderIcon(){if(!this.props.shouldHideMarking||!this.props.isComplete){if(this.props.showMarking&&this.props.isComplete){const e=d("ev-icon ev-draggable-item-icon",{"ev-icon-check":this.props.isCorrect,"ev-icon-cross":!this.props.isCorrect});return c.createElement("i",{className:e})}return c.createElement("i",{className:"ev-icon ev-draggable-item-icon ev-icon-move"})}},renderGraphic(){return this.props.graphic&&this.props.graphic.src?c.createElement(s,{className:"ev-draggable-item-graphic",graphicSrc:this.props.graphic.src,altText:this.props.graphic.alt,autoSize:!1}):null},render(){return c.createElement("button",{ref:e=>this._item=e,id:this.props.id,className:this.getClassName(),style:this.getStyle(),tabIndex:this.props.tabIndex,onKeyDown:this.onKeyPress,"aria-grabbed":this.state._isDragging||this.props.isSelected},this.renderIcon(),this.renderGraphic(),c.createElement(_,{element:"span",html:this.props.text}))}});e.exports=l},17352:(e,t,o)=>{const n=o(55281),r=o(11886),i=o(28397),s=o(58335),c=o(32823),a=o(28739),p=o(2784),d=o(28316),_=o(72779),l=o(90212),m=o(70913),u=o(11865),h=o(95849),D=s({displayName:"DropZone",mixins:[c],getInitialState:function(){return{_isDropActive:!1}},componentDidMount:function(){l(d.findDOMNode(this)).dropzone({accept:this.getAcceptableItemClassName,ondropactivate:this.onDropActivate,ondragenter:this.onDragEnter,ondragleave:this.onDragLeave,ondrop:this.onDrop,ondropdeactivate:this.onDropDeactivate,overlap:"pointer"})},componentWillUnmount:function(){l(d.findDOMNode(this)).unset()},getAcceptableItemClassName:function(){return`.ev-draggable-item-${this.props.modelId}`},onDropActivate:function(){this.setState({_isDropActive:!0})},onDragEnter:function(){this.setState({_isDragEnter:!0})},onDragLeave:function(){this.setState({_isDragEnter:!1})},onDrop:function(e){this.setState({_isDragEnter:!1});const t=e.relatedTarget.id;if(this.props.shouldRejectIncorrect){const e=n(this.props.allItems,{_id:t});if(e&&!r(e._correctDropZones,this.props.id))return}n(this.props.droppedItems,{_id:t})||(this.props.onItemDroppedIntoZone(t,this.props.id),this.props.onItemDragEnd())},onDropDeactivate:function(){this.setState({_isDropActive:!1})},onKeyPress:function(e){a.isEnterKey(e)&&this.props.selectedItemId&&this.props.onDropZoneSelected(this.props.id)},getClassName:function(){return _("ev-drop-zone",{"ev-drop-zone-item-over":this.state._isDragEnter,"ev-single-drop-zone":this.props.isSingleDropZone,"ev-is-item-dragging":this.props.isItemDragging,"ev-display-drop-zone-pointer":this.props.shouldDisplayDropZonePointers,"ev-has-no-text":!this.props.text})},renderDraggableItems:function(e){return e?e.map(i((function(e){return p.createElement(h,{key:e._id,modelId:this.props.modelId,id:e._id,text:e.text,onItemDroppedOutOfZone:this.props.onItemDroppedOutOfZone,onItemSelected:this.props.onItemSelected,showMarking:e._showMarking,isCorrect:e._isInCorrectDropZone,isInDropZone:!0,tabIndex:this.props.tabIndex,isComplete:this.props.isComplete,isSelected:this.props.selectedItemId===e._id,correctDropZones:e._correctDropZones,graphic:e._graphic,shouldHideMarking:this.props.shouldHideMarking,onItemDragMove:this.props.onItemDragMove,onItemDragEnd:this.props.onItemDragEnd})}),this)):null},renderGraphic:function(){if(this.props.graphic){const e={backgroundImage:`url(${m(this.props.graphic.src)})`};return this.props.shouldUseCoverBackgroundSize&&(e.backgroundSize="cover"),p.createElement("div",{role:"img",className:"ev-drop-zone-graphic",style:e,"aria-label":this.props.graphic.alt})}},renderDropZoneText:function(){if(this.props.text)return p.createElement(u,{className:"ev-drop-zone-text ev-body",body:this.props.text,hasInner:!1})},render:function(){return p.createElement("div",{tabIndex:this.props.tabIndex,className:this.getClassName(),"aria-dropeffect":this.state._isDropActive||this.props.selectedItemId?"move":null,"aria-label":this.props.ariaLabel,onKeyPress:this.onKeyPress},this.renderDropZoneText(),p.createElement("div",{className:"ev-drop-zone-content"},this.renderGraphic(),p.createElement("div",{className:"ev-drop-zone-dropped-items"},this.renderDraggableItems(this.props.droppedItems)),p.createElement("i",{className:"ev-icon ev-icon-arrow-down ev-drop-zone-pointer-icon"})))}});e.exports=D},25759:(e,t,o)=>{const{registerComponent:n}=o(90876),r=o(51126),i=o(20342),{itemDroppedIntoZone:s,itemDroppedOutOfZone:c,itemSelected:a}=o(14356);n("dragAndDrop",{component:r,actions:{itemDroppedIntoZone:s,itemDroppedOutOfZone:c,itemSelected:a},reducer:i,trackingMap:o(76956)})},20342:(e,t,o)=>{const n=o(60019),r=o(16760),i=o(90882),s=o(55281),c=o(46152),a=o(12982),p=o(11886),{SETUP_COMPONENT:d,SETUP_ANSWER_STATE:_,RESET_QUESTION:l,SUBMIT_QUESTION:m,SHOW_CORRECT_ANSWER:u,HIDE_CORRECT_ANSWER:h}=o(29933),{DRAG_AND_DRAP_ITEM_DROPPED_INTO_ZONE:D,DRAG_AND_DRAP_ITEM_DROPPED_OUT_OF_ZONE:g,DRAG_AND_DROP_ITEM_SELECTED:I}=o(14356);function f(e){const t=r(e._items,(e=>n({},e,{_currentDropZone:void 0,_showMarking:!1,_isInCorrectDropZone:!1,_isDisabled:!1})));return n({},e,{_items:t,_dropZones:v(e._dropZones,t),_canSubmit:b(e,t)})}function b(e,t){return!(!e._canSubmitAtAnyTime||e._canAutoSubmit)||i(t,(e=>!!e._currentDropZone)).length===t.length}function v(e,t){return r(e,(e=>n({},e,{_droppedItems:i(t,(t=>t._currentDropZone===e._id))})))}function Z(e){return n({},e,{_selectedAnswerState:"_correctAnswer",_dropZones:v(e._dropZones,e._correctAnswer)})}e.exports=function(e,t){switch(t.type){case d:return function(e){if(e._isComplete)e._isComplete&&!e._hasUserAnswered&&e._isCorrect&&(e=Z(e));else{let t=r(e._items,(t=>{const o=i(t._correctDropZones,(t=>s(e._dropZones,{_id:t})));return n({},t,{_correctDropZones:o})})),o=e._dropZones;e._randomizeItems&&(t=c(t)),e._randomizeDropZones&&(o=c(o)),e=f(e=n({},e,{_items:t,_dropZones:o,_canSubmit:b(e,t),_canAutoSubmit:!0===e._canAutoSubmit&&!0!==e._canSubmitAtAnyTime}))}return e._dropZones=v(e._dropZones,e._items),e._selectedItemId=void 0,e}(e);case _:return function(e){return e._correctAnswer=r(e._items,(e=>{const t={};return e._correctDropZones&&e._correctDropZones.length?(t._currentDropZone=e._correctDropZones[0],t._isInCorrectDropZone=!0,t._showMarking=!0):e._currentDropZone&&(t._currentDropZone=void 0,t._showMarking=!1),n({},e,t)})),e._incorrectAnswer=r(e._items,(function(e,t){return n({},e,{_isInCorrectDropZone:!1,_showMarking:!0,_isDisabled:!0})})),e}(e);case I:return n({},e,{_selectedItemId:t.payload.itemId});case D:return function(e,t){const{itemId:o,zoneId:r}=t.payload,i=a(e._items,(e=>e._id===o));if(-1===i)return e;const s=n({},e._items[i],{_currentDropZone:r}),c=[...e._items.slice(0,i),s,...e._items.slice(i+1)];return n({},e,{_items:c,_dropZones:v(e._dropZones,c),_canSubmit:b(e,c),_selectedItemId:void 0})}(e,t);case g:return function(e,t){const{itemId:o}=t.payload,r=a(e._items,(e=>e._id===o)),i=e._items[r];if(!i._currentDropZone)return e;const s=[...e._items.slice(0,r),n({},i,{_currentDropZone:void 0}),...e._items.slice(r+1)];return n({},e,{_items:s,_dropZones:v(e._dropZones,s),_canSubmit:b(e,s),_selectedItemId:void 0})}(e,t);case m:return function(e){if(!e._canSubmit)return e;let t=0,o=0,i=!1;const s=r(e._items,(e=>{let r=!1;return e._correctDropZones&&e._correctDropZones.length?(o++,r=p(e._correctDropZones,e._currentDropZone),r&&t++):e._currentDropZone&&(i=!0),n({},e,{_isInCorrectDropZone:r,_showMarking:!0,_isDisabled:!0})})),c=t===o&&!i;return n({},e,{_items:s,_isCorrect:c,_isPartlyCorrect:!c&&t>0,_hasUserAnswered:!0,_dropZones:v(e._dropZones,s),_selectedItemId:void 0})}(e);case l:return f(e);case u:return Z(e);case h:return function(e){return n({},e,{_selectedAnswerState:"_items",_dropZones:v(e._dropZones,e._items)})}(e);default:return e}}},76956:e=>{e.exports={_interactionType:{type:"String",default:"question",shouldRestore:!1},_attemptsLeft:{fieldKey:"_attemptsLeft",type:"Number",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_currentDropZone:{fieldKey:"_currentDropZone",type:"String",shouldRestore:!0},_isInCorrectDropZone:{fieldKey:"_isInCorrectDropZone",type:"Boolean",shouldRestore:!0}}},_hasUserAnswered:{fieldKey:"_hasUserAnswered",type:"Boolean",shouldRestore:!0}}},89493:(e,t,o)=>{const{store:n}=o(90876),r=o(96075);function i(e,t,o){const i=e._feedback[o],s=r(i);return t&&!s?n.getState().course._globals._feedbackText[o]:s?i:null}function s(e,t){const o=e._feedbackNavigation;if(o&&o[t]&&o[t]._isEnabled&&o[t]._linkType)return{_link:o[t]}}e.exports=function(e){let t;return t=e._isCorrect?function(e){const t=e._feedback._shouldUseGlobalCorrectFeedback;return{feedbackMessage:(t?n.getState().course._globals._feedbackText.correctFeedback:"")+(e._feedback.correct?e._feedback.correct:""),feedbackGraphic:i(e,t,"_correctGraphic"),feedbackNavigation:s(e,"_correct")}}(e):e._isPartlyCorrect?function(e){const{_partlyCorrect:t}=e._feedback,o=t._shouldUseGlobalPartlyCorrectFeedback,r=n.getState().course._globals._feedbackText;return 0===e._attemptsLeft?{feedbackMessage:(o?r.partlyCorrectFinalFeedback:"")+(t.final||""),feedbackGraphic:i(e,o,"_partlyCorrectFinalGraphic"),feedbackNavigation:s(e,"_partlyCorrect")}:{feedbackMessage:(o?r.partlyCorrectNotFinalFeedback:"")+(t.notFinal||""),feedbackGraphic:i(e,o,"_partlyCorrectNotFinalGraphic"),feedbackNavigation:s(e,"_partlyCorrectNotFinal")}}(e):function(e){const{_incorrect:t}=e._feedback,o=t._shouldUseGlobalIncorrectFeedback,r=n.getState().course._globals._feedbackText;return 0===e._attemptsLeft||!t.notFinal&&!o||!r.incorrectNotFinalFeedback&&o?{feedbackMessage:(o?r.incorrectFinalFeedback:"")+(t.final||""),feedbackGraphic:i(e,o,"_incorrectFinalGraphic"),feedbackNavigation:s(e,0===e._attemptsLeft?"_incorrect":"_incorrectNotFinal")}:{feedbackMessage:(o?r.incorrectNotFinalFeedback:"")+(t.notFinal||""),feedbackGraphic:i(e,o,"_incorrectNotFinalGraphic"),feedbackNavigation:s(e,"_incorrectNotFinal")}}(e),!1!==e._shouldShowDisplayTitleInFeedback&&(t.feedbackTitle=e.displayTitle),t}},96235:(e,t,o)=>{const n=o(72779);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}}}]);