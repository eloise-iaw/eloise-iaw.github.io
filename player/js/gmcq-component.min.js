(self.webpackChunk=self.webpackChunk||[]).push([[1974],{6785:(e,t,i)=>{"use strict";var s=i(14859)(i(58527));const o=i(72579),n=i(55281),c=i(16760),r=i(51525),a=i(2784),d=i(58335),m=i(13980),l=i(72779),{Component:p}=i(58720),u=i(43726),h=i(80441),b=i(69722),_=i(89493),k=i(96075),v=i(97635),g=i(96235),C=i(88934),S=i(43855),f=i(58044),y=i(71003),q=d({displayName:"Gmcq",propTypes:{component:m.object.isRequired,multichoiceItemSelected:m.func.isRequired,submitQuestion:m.func.isRequired,actionButtonClicked:m.func.isRequired,setComponentAsReady:m.func.isRequired,setComponentAsViewed:m.func.isRequired,setComponentAsStarted:m.func.isRequired,showFeedback:m.func.isRequired,resetQuestion:m.func.isRequired,shouldHideMarking:m.bool,screenSize:m.string.isRequired,styles:m.object,theme:m.object},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps(e){const{component:t}=this.props;e.component._canSubmit&&!t._canSubmit&&!t._isSubmitted&&t._canAutoSubmit&&1===t._selectable&&this.props.submitQuestion(t._id),t._canAutoSubmit&&!t._isSubmitted&&e.component._attemptsLeft>0&&e.component._isSubmitted&&!e.component._isCorrect&&1===t._selectable&&this.props.resetQuestion(t._id)},componentDidUpdate(e){const{component:t}=this.props;!e.component._isSubmitted&&t._isSubmitted&&this.showFeedback()},showFeedback(e){const{component:t,showFeedback:i}=this.props;!1!==t._canShowFeedback&&i(t._shouldUseIndividualItemFeedback&&1===t._selectable?this.getIndividualItemFeedback(n(t._items,"_isSelected")):_(t),e&&t._isComplete?{refocusSelector:".ev-buttons-feedback"}:{})},getIndividualItemFeedback(e){const{_shouldShowDisplayTitleInFeedback:t,displayTitle:i}=this.props.component;return{feedbackTitle:!1===t?null:i,feedbackMessage:e._feedback,feedbackGraphic:e._feedbackGraphic}},onItemClicked(e){const{props:t}=this;t.component._hasStarted||t.setComponentAsStarted(t.component._id),t.multichoiceItemSelected(t.component._id,e)},onVisibilityChange(...e){S(...e,this,this.props.setComponentAsViewed)},renderItems(e){const{component:t,shouldHideMarking:i,theme:s}=this.props,n=o(s,"_components._mcq._settings",{_checkboxIcon:"square",_selectedCheckboxIcon:"check-square",_radioIcon:"circle",_selectedRadioIcon:"radio-button",_correctIcon:"check",_inCorrectIcon:"cross"}),r=t[t._selectedAnswerState],d=e?y:f;return c(r,((e,s)=>a.createElement(d,{key:e._id,index:s,item:e,id:`${t._id}-${e._id}`,name:t._id,isRadio:1===t._selectable,icons:n,isComplete:t._isComplete,isEnabled:t._isEnabled,hasPrefix:!1,onItemClicked:this.onItemClicked,shouldHideMarking:i})))},renderComponent(e,t){const{props:i}=this,s=b(i.screenSize),n="small"===i.screenSize?1:2,c=o(i.component,["_itemsPerRow",s],n);return"full"!==e?this.renderItems(t):a.createElement(u,{columns:c,shouldIgnoreScreenSize:!0,className:`ev-column-layout-${c}`},this.renderItems(t))},render(){const{props:e}=this,t=r(e.component._items,(({_graphic:e})=>k(e))),i={...e.component,_component:t?"gmcq":"mcq"};return a.createElement(p,{component:i,styles:e.styles,shouldHideMarking:e.shouldHideMarking,onActionButtonClicked:e.actionButtonClicked,onFeedbackButtonClicked:()=>this.showFeedback(!0),isVisibilitySensorActive:C(e),onVisibilityChange:this.onVisibilityChange,additionalAttributes:v(i)},a.createElement("div",{className:g(i)},a.createElement("div",(0,s.default)({className:l("ev-clearfix",{"ev-gmcq-items":t,"ev-mcq-items":!t}),role:1===i._selectable?"radiogroup":"group",tabIndex:"-1"},h(e.component)),this.renderComponent(i._layout,t))))}});e.exports=q},71003:(e,t,i)=>{"use strict";var s=i(14859)(i(58527));const o=i(58335),n=i(13980),c=i(32823),r=i(2784),a=i(72779),d=i(28739),m=i(88078),l=i(96075),p=i(10817),u=o({displayName:"GmcqItem",propTypes:{id:n.string.isRequired,name:n.string.isRequired,isComplete:n.bool,isEnabled:n.bool,item:n.object.isRequired,index:n.number.isRequired,isRadio:n.bool.isRequired,hasPrefix:n.bool,onItemClicked:n.func.isRequired,shouldHideMarking:n.bool},mixins:[c],getClassName(){const{props:e}=this;return a("ev-gmcq-item ev-component-item ev-component-item-color",{"ev-correct":!e.isEnabled&&e.item._isCorrect,"ev-incorrect":!e.isEnabled&&!e.item._isCorrect,"ev-odd":(this.props.index+1)%2!=0,"ev-even":(this.props.index+1)%2==0})},getLabelClassName(){return a("ev-component-item-color ev-component-item-text-color ev-component-item-border",{"ev-selected":this.props.item._isSelected,"ev-disabled":!this.props.isEnabled})},renderSelectIcon(){if(this.props.isComplete||this.props.hasPrefix)return;const{isRadio:e,item:t}=this.props,i=a("ev-gmcq-item-icon ev-gmcq-answer-icon ev-component-item-text-color ev-icon",{"ev-icon-radio-button":e&&t._isSelected,"ev-icon-check-square":!e&&t._isSelected,"ev-icon-circle":e&&!t._isSelected,"ev-icon-square":!e&&!t._isSelected});return r.createElement("span",{className:i})},renderMarkingIcon(){const{props:e}=this;if(e.shouldHideMarking||!e.isComplete||!e.item._isSelected)return;const t=a("ev-gmcq-item-icon ev-gmcq-answer-icon ev-component-item-text-color ev-icon",{"ev-icon-check":e.item._isCorrect,"ev-icon-cross":!e.item._isCorrect});return r.createElement("span",{className:t})},renderGraphic(){const{_graphic:e}=this.props.item;if(l(e))return r.createElement(m,{className:"ev-gmcq-item-graphic",containerTag:"span",graphicSrc:e.src,graphicSrcAdvanced:e.srcAdvanced,altText:e.alt,autoSize:!0})},render(){const{id:e,name:t,item:i,isRadio:o,isEnabled:n,onItemClicked:c}=this.props;return r.createElement("div",{className:this.getClassName()},r.createElement("input",(0,s.default)({id:e,className:"ev-input-checkbox",value:e},o?{name:t}:{},{type:o?"radio":"checkbox",checked:i._isSelected||!1,"aria-labelledby":`${e}-label`,disabled:!1===n,onChange:()=>c(i._id),onKeyPress:e=>{d.isEnterKey(e)&&c(i._id)}})),r.createElement("label",{id:`${e}-label`,htmlFor:e,"aria-hidden":!0,className:this.getLabelClassName()},this.renderGraphic(),r.createElement("span",{className:"ev-gmcq-item-checkbox ev-component-item-checkbox"},r.createElement("span",{className:"ev-gmcq-item-state ev-component-item-state"},this.renderSelectIcon(),this.renderMarkingIcon()),r.createElement(p,{element:"span",className:"ev-gmcq-item-inner ev-component-item-inner",html:i.text}))))}});e.exports=u},37376:(e,t,i)=>{"use strict";const{registerComponent:s}=i(90876),{multichoiceItemSelected:o}=i(96485),n=i(49629);s("gmcq",{component:i(6785),actions:{multichoiceItemSelected:o},reducer:n,trackingMap:i(17074)})},17074:(e,t,i)=>{"use strict";const{store:s}=i(90876);e.exports={_interactionType:{type:"String",default:"question",shouldRestore:!1},_items:{fieldKey:"_items",typeCallback:function(e){const{course:t}=s.getState(),i=t._questionBanks;return e._bankComponentId&&i&&i._isEnabled?"Function":"Array"},shouldRestore:!0,restoreCallback:function(e){return e._items},subMap:{_id:{fieldKey:"_id",type:"String"},_isSelected:{fieldKey:"_isSelected",type:"Boolean",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0}}},_bankComponentId:{fieldKey:"_bankComponentId",type:"String",shouldRestore:!0},_hasUserAnswered:{fieldKey:"_hasUserAnswered",type:"Boolean",shouldRestore:!0},_attemptsLeft:{fieldKey:"_attemptsLeft",type:"Number",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0}}},4751:(e,t,i)=>{var s=i(24303);e.exports=function(e,t){var i;return s(e,(function(e,s,o){return!(i=t(e,s,o))})),!!i}},51525:(e,t,i)=>{var s=i(87064),o=i(68286),n=i(4751),c=i(86152),r=i(82406);e.exports=function(e,t,i){var a=c(e)?s:n;return i&&r(e,t,i)&&(t=void 0),a(e,o(t,3))}}}]);