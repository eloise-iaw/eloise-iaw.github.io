"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9723],{88515:(e,t,i)=>{var n=i(39322),s=i(14859)(i(58527));const o=i(12436),r=i(79421),p=i(92191),c=i(5648),m=i(90249),a=i(58335),l=i(13980),h=i(2784),d=i(28316),{Component:u}=i(58720),f=i(88934),g=i(43855),_=i(96235),y=i(70913),b=a({displayName:"IFrame",propTypes:{component:l.object.isRequired,screenSize:l.string.isRequired,styles:l.object,isPageReady:l.bool,setComponentAsReady:l.func.isRequired,setComponentAsComplete:l.func.isRequired},getInitialState:()=>({_height:null}),componentDidMount(){window.addEventListener("resize",this.onWindowResize)},componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)},UNSAFE_componentWillReceiveProps({screenSize:e}){e!==this.props.screenSize&&this.props.component._isReady&&this.setIframeHeight()},onWindowResize:o((function(){this.setIframeHeight(!0)}),100),onIFrameLoaded(){this.setIframeHeight(),this.props.setComponentAsReady(this.props.component._id)},setIframeHeight(e=!1){const t=()=>{const e=this.getIframeHeight();this.setState({_height:e})};if(e)return t();setTimeout((()=>{t()}),400)},getIframeHeight(){const{_iframeHeightSelector:e}=this.props.component,t=d.findDOMNode(this._iframe);let i=0;if(e)return i=n(t).contents().find(e).height(),i;try{const e=t.contentDocument?t.contentDocument:t.contentWindow.document,{body:n,documentElement:s}=e;i=Math.max(n.scrollHeight,n.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)}catch(e){}return i},onVisibilityChange(...e){g(...e,this,this.props.setComponentAsComplete)},getAttributes(){const{props:e}=this,t=e.component._isEmbeddedFile,i=e.component._embed,s={};if(t)i&&(s.src=y(i));else{let t=e.component._source;if(t&&t.indexOf("</iframe>")>-1){t=n.trim(t);const e=n(n.parseHTML(t));e.length>0&&e.is("iframe")&&r(e[0].attributes,(e=>{if(e.specified){if("style"===e.name){const t=e.value.split(";");return s.style={},void r(t,(e=>{let[t,i]=e.split(/:(.+)/);t=p(t).trim().camelCase().replace("-","").value(),i=c(i),s.style[t]=i}))}s[e.name]=e.value}}))}else s.src=t}return s},getStyle(){const{state:e,props:t}=this,{screenSize:i,component:n}=t,s={width:"100%"};return n._isHeightBasedOnContent&&e._height?(s.height=e._height,s):(s.height="small"===i?`${n._frameHeight._mobile}px`:`${n._frameHeight._desktop}px`,s)},renderIframe(){const{props:e}=this,t=e.component._isEmbeddedFile,i=e.component._useIframeAttributes,n=this.getAttributes();if(!n.src)return;let o={};return i&&!t?o=n:(o.src=n.src,o.allow="microphone"),o.style||(o.style=this.getStyle()),h.createElement("iframe",(0,s.default)({key:m(o).length,title:e.component.iFrameTitle,ref:e=>this._iframe=e,onLoad:this.onIFrameLoaded},o))},render(){const{props:e}=this;return h.createElement(u,{component:e.component,styles:e.styles,onVisibilityChange:this.onVisibilityChange,isVisibilitySensorActive:f(e,"_isComplete")},h.createElement("div",{className:_(e.component)},this.renderIframe()))}});e.exports=b},515:(e,t,i)=>{const{registerComponent:n}=i(90876);n("iFrame",{component:i(88515),trackingMap:i(21322)})},21322:e=>{e.exports={_interactionType:{type:"String",default:"presentation",shouldRestore:!1}}},88934:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:n}=e;return!0===n&&!0===i._isReady&&!0!==i[t]}},96235:(e,t,i)=>{const n=i(72779);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},43855:e=>{e.exports=function(e,t,i,n,s){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&s&&s(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);