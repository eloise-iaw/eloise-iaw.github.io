"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7355],{40003:(e,t,n)=>{const i=n(58335),s=n(2784),r=n(13980),{Trail:o,config:a,interpolate:m}=n(64325),l=i({displayName:"AnimatableItems",propTypes:{startAnimation:r.bool.isRequired,animations:r.object,renderItem:r.func.isRequired,maxAnimatable:r.number,items:r.array.isRequired},getDefaultProps:()=>({region:!1,startAnimation:!1,animations:{_slideInX:{_isEnabled:!1,_from:0},_slideInY:{_isEnabled:!1,_from:0},_fadeIn:{_isEnabled:!1,_from:0},_scaleIn:{_isEnabled:!1,_from:0},easing:"default"},ariaHidden:!1}),getSpringFrom(){const{animations:e}=this.props,{_slideInX:t,_slideInY:n,_fadeIn:i,_scaleIn:s}=e;return{x:t&&t._isEnabled?t._isReverseDirection?-t._from:t._from:0,y:n&&n._isEnabled?n._isReverseDirection?-n._from:n._from:0,opacity:i&&i._isEnabled?i._from/100:1,scale:s&&s._isEnabled?s._from/100:1}},getSpringTo(){const{startAnimation:e}=this.props;return e?{opacity:1,x:0,y:0,scale:1}:this.getSpringFrom()},getInterpolatedStyle:({opacity:e,x:t,y:n,scale:i})=>({opacity:e,transform:m([t,n,i],((e,t,n)=>`translate3d(${e}%, ${t}%, 0) scale(${n})`))}),renderAnimatedItems(){const{items:e,animations:t,renderItem:n,maxAnimatable:i}=this.props;let r=e;return"number"==typeof i&&(r=e.slice(0,i)),s.createElement(o,{native:!0,key:r.length,from:this.getSpringFrom(),to:this.getSpringTo(),config:a[t._easing]||a.default,keys:r.map(((e,t)=>"string"==typeof e?e:t)),items:r},((e,t)=>i=>n({item:e,style:this.getInterpolatedStyle(i),isAnimated:!0},t)))},renderNonAnimatedItems(){const{items:e,renderItem:t,maxAnimatable:n}=this.props;if("number"==typeof n)return e.slice(n).map(((e,i)=>t({item:e,style:null,isAnimated:!1},i+n)))},render(){return s.createElement(s.Fragment,null,this.renderAnimatedItems(),this.renderNonAnimatedItems())}});e.exports=l},19017:e=>{e.exports=function(e){var t;const n=e.displayTitle,i=null!==(t=e._heroImage)&&void 0!==t&&t._isEnabled?e._heroImage.title:null;return n||i}},8846:(e,t,n)=>{const i=n(72579),{Observable:s}=n(28761),{setLocationReadyState:r,PUSH_LOCATION:o}=n(63444),a=n(36151),m=n(69610);e.exports=e=>(t,n)=>t.filter((({type:t})=>{if(t!==o)return;const{location:i,settings:s}=n.getState();return"menu"===i.currentContentType&&s._menu===e})).switchMap((()=>{const t=n.getState(),{location:o,contentObjects:l,device:d,course:c}=t,{currentId:u}=o,p=u===c._id?c:l[u],h=i(p,[`_${e}`,"_heroImage"]);if(!h||!h._graphic)return s.empty();const _=a(h._graphic.src,h._graphic.srcAdvanced,!0);return _?s.concat(s.of(r(!1)),s.bindCallback(m)(_,!1).map((()=>r(!0)))):s.empty()}))},88861:(e,t,n)=>{const i=n(72579),s=n(58335),r=n(13980),o=n(2784),{Menu:a}=n(20077),{animated:m}=n(64325),l=n(68387),d=n(40003),c=n(32973),u=s({displayName:"StandardMenu",propTypes:{menu:r.object.isRequired,device:r.object.isRequired,theme:r.object.isRequired,itemIds:r.array.isRequired,hasActionBar:r.bool.isRequired,location:r.object.isRequired},getInitialState:()=>({_isMounted:!1,_isItemsVisible:!1}),componentDidMount(){this._timeout=setTimeout(this.setMounted,200)},componentWillUnmount(){this._timeout&&clearTimeout(this._timeout)},setMounted(){this.setState({_isMounted:!0})},onVisibilityChange(e){const{_isItemsVisible:t}=this.state;!t&&e&&this.setState({_isItemsVisible:!0})},getShouldShowProgressBars(){const{props:e}=this,t=i(e.theme,"_menu._settings._shouldShowProgressBarsOnMenus","content"),n=i(e.menu,"_standardMenu._shouldShowProgressBarsOnMenus",!0);return"content"===t?n:"true"===t},renderMenuItemsInner(){const{props:e,state:t}=this,n=i(e.menu,"_standardMenu._shouldShowIconOnMenuItems",!0),s=i(e.theme,"_menu._settings._durationIcon",null),r=i(e.theme,"_menu._itemAnimations");return o.createElement("div",{className:"ev-menu-items-inner",role:"list"},o.createElement(d,{items:e.itemIds,startAnimation:t._isItemsVisible,animations:r,maxAnimatable:8,renderItem:({item:e,isAnimated:t,style:i})=>o.createElement(c,{key:e,itemId:e,style:i,element:t?m.div:"div",shouldShowProgressBarsOnMenus:this.getShouldShowProgressBars(),shouldShowIconOnMenuItems:n,durationIcon:s})}))},render(){const{props:e,state:t}=this;return o.createElement(a,{className:"ev-standard-menu",menu:e.menu,menuSettings:e.menu._standardMenu,device:e.device,theme:e.theme,location:e.location,hasActionBar:e.hasActionBar},o.createElement("div",{className:"ev-menu-items"},o.createElement(l,{active:t._isMounted&&!t._isItemsVisible,partialVisibility:!0,scrollCheck:!0,scrollThrottle:10,intervalDelay:250,minTopValue:200,onChange:this.onVisibilityChange},this.renderMenuItemsInner())))}});e.exports=u},32973:(e,t,n)=>{const i=n(58335),s=n(13980),r=n(2784),o=n(32823),a=n(19017),m=n(57992),{MenuItemProgress:l,MenuItemDuration:d,MenuItemLink:c,MenuItemHOC:u}=n(20077),p=n(11533),h=n(11865),_=n(50085),I=n(37925),g=i({displayName:"StandardMenuItem",propTypes:{item:s.object.isRequired,element:s.any,style:s.object,shouldShowProgressBarsOnMenus:s.bool,shouldShowIconOnMenuItems:s.bool,durationIcon:s.string,pageMenuItemsCompletedCount:s.number,pageMenuItemsCount:s.number,completedChildrenAsPercentage:s.number.isRequired},mixins:[o],renderItemIcon(){if(!this.props.shouldShowIconOnMenuItems)return;const e="menu"===this.props.item._type?"papers":"document2";return r.createElement(_,{icon:e,className:"ev-menu-item-type-icon"})},renderTitle(){const e=a(this.props.item);if(e)return r.createElement(p,{id:`${this.props.item._id}-title`,headingElement:"h2",displayTitle:e,className:"ev-menu-item-title",innerClassName:"ev-menu-item-title-inner"})},renderBody(){if(this.props.item.description)return r.createElement(h,{body:this.props.item.description,className:"ev-menu-item-body",innerClassName:"ev-menu-item-body-inner"})},renderDuration(){if(this.props.item.duration)return r.createElement(d,{duration:this.props.item.duration,durationIcon:this.props.durationIcon,durationLabel:this.props.item.durationLabel})},renderProgress(){const{props:e}=this;if(e.shouldShowProgressBarsOnMenus)return r.createElement(l,{item:e.item,pageMenuItemsCompletedCount:e.pageMenuItemsCompletedCount,pageMenuItemsCount:e.pageMenuItemsCount,completedChildrenAsPercentage:e.completedChildrenAsPercentage})},renderLink(){const{item:e}=this.props;return r.createElement(c,{isLocked:e._isLocked,isVisited:e._isVisited,linkText:e.linkText,linkIcon:e.linkIcon,isLinkIconRightPosition:e.isLinkIconRightPosition,link:`/${e._type}/${e._id}`})},renderElements(e){const{props:t}=this;return m("menuItem",e,{item:t.item})},render(){const{element:e,item:t,style:n}=this.props;return r.createElement(I,{element:e,id:t._id,style:n,name:"menu item",role:"listitem",className:`ev-menu-item ev-collection-item ev-menu-item-${t._id}`,"aria-label":t.ariaLabel},this.renderElements("root"),r.createElement("div",{className:"ev-menu-item-inner ev-collection-item-inner"},r.createElement("div",{className:"ev-collection-item-content"},r.createElement("div",{className:"ev-collection-item-content-inner ev-clearfix"},this.renderItemIcon(),this.renderTitle(),this.renderBody(),this.renderDuration(),this.renderElements("content"))),r.createElement("div",{className:"ev-collection-item-footer"},r.createElement("div",{className:"ev-collection-item-footer-inner ev-clearfix"},this.renderProgress(),this.renderLink()))))}});e.exports=u(g)},65390:(e,t,n)=>{const{registerMenu:i,registerEpics:s}=n(90876),r=n(8846),o=n(88861);s(r("standardMenu")),i("standardMenu",o)}}]);